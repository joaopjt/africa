!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("core-js/stable"),require("regenerator-runtime/runtime"),require("mysql2/promise"),require("mariadb"),require("pg"),require("sqlite"),require("mssql")):"function"==typeof define&&define.amd?define(["exports","core-js/stable","regenerator-runtime/runtime","mysql2/promise","mariadb","pg","sqlite","mssql"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).index={},0,0,t.mysql,t.mariadb,t.pg,t.sqlite$1,t.mssql)}(this,function(t,e,s,r,i,n,a,h){"use strict";function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l=u(r),c=u(i),o=u(h);class p{constructor(){this.query_string=""}value(){return this.query_string}select(t="*"){if(t)return this.query_string+="SELECT "+t,this;throw new Error("Expected collumns as first paramenter, but none was given.")}create(t,e){let s="",r=0;if(!t)throw new Error("Expected table name but none was given.");if(e)return Object.entries(e).forEach(t=>{1<=r&&(s+=", "),s+=t[0]+" "+t[1],r++}),this.query_string=`CREATE TABLE ${t} (${s})`,this.query();throw new Error("Expected collumns object as a second parameter, but none was given.")}insert(t,r){let i="",s="";if(!t)throw new Error("Expected table name but none was given.");if(r)return Object.keys(r).forEach((t,e)=>{let s=t;Object.keys(r).length>e+1&&(s+=","),i+=s}),Object.values(r).forEach((t,e)=>{t=`'${t}'`,Object.keys(r).length>e+1&&(t+=","),s+=t}),this.query_string=`INSERT INTO ${t} (${i}) VALUES (${s})`,this;throw new Error("Expected values object as a second parameter, but none was given.")}update(t,r){let i="",s="";if(!t)throw new Error("Expected table name but none was given.");if(r)return Object.keys(r).forEach((t,e)=>{let s=t;Object.keys(r).length>e+1&&(s+=","),i+=s}),Object.values(r).forEach((t,e)=>{t=`'${t}'`,Object.keys(r).length>e+1&&(t+=","),s+=t}),this.query_string=`UPDATE ${t} SET (${i}) VALUES (${s})`,this;throw new Error("Expected values object as a second parameter, but none was given.")}drop(t){if(t)return this.query_string="DROP TABLE "+t,this;throw new Error("Expected table name but none was given.")}delete(t){if(t)return this.query_string="DELETE FROM "+t,this;throw new Error("Expected table name but none was given.")}restrict(){return this.query_string+=" RESTRICT",this.query()}cascade(){return this.query_string+=" CASCADE",this.query()}from(t){if(t)return this.query_string+=" FROM "+t,this;throw new Error("Expected table name but none was given.")}where_is_allocated(){if(this.query_string.search("WHERE"))return!0}where(t,e,s){t=t+` ${e} `+s,e=" WHERE "+t;return this.where_is_allocated()&&(this.query_string+="AND"),this.where_is_allocated()?this.query_string+=t:this.query_string+=e,this}order_by(t){return this.query_string+=" ORDER BY "+t,this}asc(){return this.query_string+=" ASC",this}desc(){return this.query_string+=" DESC",this}join(s,t){let r="";if(!s)throw new Error("Expected table name as first paramenter, but none was given.");if(!t)throw new Error("Expected values object as second paramenter, but none was given.");Object.keys(t).forEach((t,e)=>{r+=this.table+`.${t} = ${s}.`+e});t=` INNER JOIN ${s} ON `+r;return this.query_string+=t,this}left_join(s,t){let r="";if(!s)throw new Error("Expected table name as first paramenter, but none was given.");if(!t)throw new Error("Expected values object as second paramenter, but none was given.");Object.keys(t).forEach((t,e)=>{r+=this.table+`.${t} = ${s}.`+e});t=` LEFT JOIN ${s} ON `+r;return this.query_string+=t,this}right_join(s,t){let r="";if(!s)throw new Error("Expected table name as first paramenter, but none was given.");if(!t)throw new Error("Expected values object as second paramenter, but none was given.");Object.keys(t).forEach((t,e)=>{r+=this.table+`.${t} = ${s}.`+e});t=` RIGHT JOIN ${s} ON `+r;return this.query_string+=t,this}outer_join(s,t){let r="";if(!s)throw new Error("Expected table name as first paramenter, but none was given.");if(!t)throw new Error("Expected values object as second paramenter, but none was given.");Object.keys(t).forEach((t,e)=>{r+=this.table+`.${t} = ${s}.`+e});t=` FULL OUTER JOIN ${s} ON `+r;return this.query_string+=t,this}exists(){return this.query_string+=" EXISTS",this||this.query}raw(t){if(this.query_string+=t,t)return this||this.query;throw new Error("Expected SQL instruction as first paramenter, but none was given.")}}const E=require("sqlite3");t.Africa=class{constructor(){this.value=""}spacer(){""!==this.value&&(this.value+=" ")}result(){return this.value}char(t=1){return this.spacer(),this.value+=`CHAR(${t})`,this||this.result()}varchar(t=255){return this.spacer(),this.value+=`VARCHAR(${t})`,this||this.result()}binary(t=8e3){return this.spacer(),this.value+=`BINARY(${t})`,this||this.result()}varbinary(t=2e9){return this.spacer(),this.value+=`VARBINARY(${t})`,this||this.result()}tinyblob(){return this.spacer(),this.value+="TINYBLOB",this||this.result()}tinytext(){return this.spacer(),this.value+="TINYTEXT",this||this.result()}tinyint(){return this.spacer(),this.value+="TINYINT",this||this.result()}bool(){return this.spacer(),this.value+="BOOL",this||this.result()}boolean(){return this.spacer(),this.value+="BOOLEAN",this||this.result()}smallint(t=5){return this.spacer(),this.value+=`SMALLINT(${t})`,this||this.result()}mediumint(t=8){return this.spacer(),this.value+=`MEDIUMINT(${t})`,this||this.result()}int(t=11){return this.spacer(),this.value+=`INT(${t})`,this||this.result()}integer(t=11){return this.spacer(),this.value+=`INTEGER(${t})`,this||this.result()}bigint(t=255){return this.spacer(),this.value+=`BIGINT(${t})`,this||this.result()}float(t=23){return this.spacer(),this.value+=`FLOAT(${t})`,this||this.result()}double(t=16,e=4){return this.spacer(),this.value+=`DOUBLE(${t}
     ${e})`,this||this.result()}double_precision(t=0,e=0){return this.spacer(),this.value+=`DOUBLE PRECISION(${t}
     ${e})`,this||this.result()}decimal(t=10,e=0){return this.spacer(),this.value+=`DECIMAL(${t}
     ${e})`,this||this.result()}text(){return this.spacer(),this.value+="TEXT",this||this.result()}bit(t=1){return this.spacer(),this.value+=`BIT(${t})`,this||this.result()}blob(t=65535){return this.spacer(),this.value+=`BLOB(${t})`,this||this.result()}mediumtext(t=16777215){return this.spacer(),this.value+=`MEDIUMTEXT(${t})`,this||this.result()}mediumblob(t=16777215){return this.spacer(),this.value+=`MEDIUMBLOB(${t})`,this||this.result()}longtext(){return this.spacer(),this.value+="LONGTEXT",this||this.result()}longblob(){return this.spacer(),this.value+="LONGBLOB",this||this.result()}enum(t){return this.spacer(),this.value+=`ENUM(${t})`,this||this.result()}set(t){return this.spacer(),this.value+=`SET(${t})`,this||this.result()}null(t=!0){return this.spacer(),t||(this.value+="NOT "),this.value+="NULL",this||this.result()}not_null(){return this.spacer(),this.value+="NOT NULL",this||this.result()}primary_key(){return this.spacer(),this.value+="PRIMARY KEY",this||this.result()}date(){return this.spacer(),this.value+="DATE",this||this.result()}datetime(t="YYYY-MM-DD hh:mm:ss"){return this.spacer(),this.value+=`DATETIME(${t})`,this||this.result()}timestamp(t="YYYY-MM-DD hh:mm:ss"){return this.spacer(),this.value+=`TIMESTAMP(${t})`,this||this.result()}time(t="hh:mm:ss"){return this.spacer(),this.value+=`TIME(${t})`,this||this.result()}year(){return this.spacer(),this.value+="YEAR",this||this.result()}auto_increment(){return this.spacer(),this.value+="AUTO_INCREMENT",this||this.result()}default(t){return this.spacer(),this.value+=t?"DEFAULT "+t:"DEFAULT",this||this.result()}},t.MariaDB=class extends p{constructor(t,e){super(),this.pool=c.default.createPool({host:t,user:e,connectionLimit:1}),this.conn=void 0}async connect(){this.conn=await this.pool.getConnection()}async query(){await this.connect();let t=null;try{t=await this.conn.query(this.query_string)}catch(t){throw t}return this.query_string="",this.conn.release(),t}},t.MySQL=class extends p{constructor(t,e,s,r){super(),this.config={host:t,user:e,password:s,database:r}}async query(){var t;return this.conn=await l.default.createConnection(this.config),t=await this.conn.query(this.query_string),this.query_string="",t[0]}},t.PostgreSQL=class extends p{constructor(t,e,s,r){super(),this.client=new n.Client({host:t,user:e,password:s,database:r})}async query(){let e=null;return this.client.connect(),this.client.query(this.query_string).then(t=>{e=t}).catch(t=>{throw t}),this.query_string="",this.client.release(),e}},t.SQLServer=class extends p{constructor(t,e,s,r,i=i){super(),this.config={server:t,user:e,pass:s,database:r,pool:i}}async query(){let t=null;var e=o.default.connect(this.config);try{t=await e.query(this.query_string)}catch(t){throw t}return this.query_string="",t}},t.SQLite=class extends p{constructor(t){super(),this.db=void 0}async connect(){this.db=await a.open({filename:database_filename,driver:E.Database})}async query(){let t=null;this.connect();try{t=await this.db.exec(this.query_string)}catch(t){throw t}return this.query_string="",t}},Object.defineProperty(t,"__esModule",{value:!0})});
